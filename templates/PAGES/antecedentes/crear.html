{% extends "base.html" %}
{% load static %}
{% block title %}Nuevo Antecedente{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow-sm border-0 rounded-4">
    <div class="card-header bg-primary text-white rounded-top-4">
      <h4 class="mb-0"><i class="bi bi-journal-plus"></i> Registrar Antecedente</h4>
    </div>
    <div class="card-body px-4">
      <form method="post">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ next }}">
        <div class="row">
          <div class="col-md-6 mb-3">
            {{ form.tipo.label_tag }} {{ form.tipo }}
            {% for error in form.tipo.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.fecha_diagnostico.label_tag }} {{ form.fecha_diagnostico }}
            {% for error in form.fecha_diagnostico.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="col-md-12 mb-3">
            {{ form.descripcion.label_tag }} {{ form.descripcion }}
            {% for error in form.descripcion.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.severidad.label_tag }} {{ form.severidad }}
            {% for error in form.severidad.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.estado_actual.label_tag }} {{ form.estado_actual }}
            {% for error in form.estado_actual.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
          <div class="col-12 mb-3">
            {{ form.notas.label_tag }} {{ form.notas }}
            {% for error in form.notas.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
        </div>

        <div class="mt-4 d-flex justify-content-end gap-2">
          <a href="{{ next }}" class="btn btn-secondary px-4">Cancelar</a>
          <button type="submit" class="btn btn-primary px-4">Guardar</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
